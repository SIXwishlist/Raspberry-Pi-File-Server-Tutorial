<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Raspberry Pi file server guide</title>
        <!--Bootstrap-->
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link href="assets/css/style.css" rel="stylesheet" type="text/css">
    </head>

    <body>
      <div class="container-fluid">
        <header>
            <h1>How to Create a Raspberry Pi File Server</h1>
            <p>By Dennis Feliciano</p>
        </header>
        <nav class="navbar">
            <h3>Contents</h3>
                <a href="index.html#initial">The Initial Setup</a> |
                <a href="index.html#install">Install Required Software</a> |
                <a href="index.html#file-share">Setup File Shares</a> |
                <a href="index.html#client">Access File Share from Client Devices</a>
        </nav>

        <div class="section">

        <div class="article">
          <h2 id="initial"><a name="initial"></a>The Initial Setup</h2>
        <div class="row">
        <div class="col-sm-6" id="initial-setup">
          <p>This guide has been developed and tested on a Raspberry Pi 2 running Raspbian, based on Debian 8 “Jessie”. The Raspberry Pi Foundation’s website (<a href="https://www.raspberrypi.org/downloads/noobs/" target="_blank">link</a>) has an easy to setup installer called NOOBS, short for New Out Of the Box Software. For this setup, you will need to connect your Raspberry Pi to a power source (capable of at least 2A, especially for directly connected hard drives), a monitor, mouse and keyboard. Advanced users can proceed using SSH, if setup on their system.<br><br>

          Once you complete this tutorial, you will be able to access files stored on your Raspberry Pi through your smartphone or computer (compatible with Android, iOS, Windows, Linux, macOS). Essentially your Raspberry Pi will be setup to run what's called a Windows (or samba) share, which has the best cross-platform support for use as a file server.<br><br></p>
        </div>
        <div class="col-sm-3">
            <img id="rpi2" src="assets/images/raspberrypi_fileserver.jpg">
        </div>
        <div class="col-sm-3" id="rpi2-descriptor">
          <p>A Raspberry Pi 2 running Raspbian, based on Debian 8 "Jessie". It is attached to a standard 2.5 inch HDD and a 3.5 inch HDD (not shown). For maximum throughput, it is connected via ethernet to the local network.</p>
        </div>
        </div>
        <h2 id="install"><a name="install"></a>Install Required Software</h2>
    
        <div class="row">
        <div class="col-sm-6" id="installation">
        <p>Open the terminal and run the following command to ensure all packages are up to date:
        <br>
        <br>
        <a id="code">sudo apt-get update && sudo apt-get dist-upgrade</a>
        <br>
        <br>
        Next install the “samba” package:
        <br>
        <br>
        <a id="code">sudo apt-get install samba</a>
        <br>
        <br>
        Next ensure that a text editor is installed. Gedit is a good one if using a desktop environment, otherwise vim or nano work well in command-line only environments. The relevant commands to install your text editor of choice:
        <br>
        <br>
        <a id="code">sudo apt-get install gedit</a>
        <br>
        <br>
        <a id="code">sudo apt-get install vim</a>
        <br>
        <br>
        <a id="code">sudo apt-get install nano</a>
        <br>
        <br>
        </p>
        </div>
        <div class="col-sm-6">
          <img id="rpi-update" src="assets/images/rpi-update2.PNG" alt="rpi-update">
          <p>Make sure your Raspberry Pi is up to date!</p>
        </div>
        </div>

        <h2 id="file-share"><a name="file-share"></a>Setup File Shares</h2>

        <div class="row">
        <div class="col-sm-6">
        <p>Depending on the text editor preferred, use one of the following commands to open a configuration file to setup file shares:
        <br>
        <br>
        <a id="code">sudo gedit /etc/samba/smb.conf
        <br>[edits the file in gedit]</a>

        <br>
        <a id="code">sudo vi /etc/samba/smb.conf
        <br>[edits the file in vim]</a>
        <br>
        <a id="code">sudo nano -w /etc/samba/smb.conf
        <br>[edits the file in nano]</a>
        <br>
        <br>
        Navigate all the way to the bottom of the file. Ignore, but do not remove the preceding text as it contains useful information for future configurations. Setup your file share with the following parameters, changing the name of the share (instead of [File-share]), comment, path and valid users according to your local setup:</p>

        <p id="code">[File-share]
        <br>comment = Shared files
        <br>path = /home/pi/shared_folder
        <br>browseable = yes
        <br>writable = yes
        <br>valid users = pi</p>

        <p>Save changes and close the file. Make sure to change the <strong>path</strong> to the location of the folder or hard drive you want to share to your local network. The browseable option ensures that the file share can be discovered in the local network without manually entering the IP address of the Raspberry Pi. The valid users line is important for securing your file share so that no one can access your data without knowing your username and password. Use the following command to create a password for your username:</p>

        <p id="code">sudo smbpasswd -a username</p>

        <p>Remember to replace username in the command with the user that is logged in the Raspberry Pi. Finally, use the following commands to reset the samba service so that it recognizes the changes made to your configuration file:</p>

        <p id="code">sudo systemctl restart smbd
        <br>sudo systemctl restart nmbd</p>

        </div>
        </div>

        <h2 id="client"><a name="client"></a>Access File Share from Client Devices</h2>

        <div class="paragraph">
        <p>Coming soon.</p>
        </div>



        </div>

        </div>


        <div class="footer">
            <h3>Useful links</h3>

                <p><a href="https://help.ubuntu.com/community/Samba/SambaServerGuide" target="_blank">Samba/Samba Server Guide</a></p>
                <p><a href="https://www.raspberrypi.org/" target="_blank">Raspberry Pi Foundation</a></p>
        </div>
      </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </body>

</html>


